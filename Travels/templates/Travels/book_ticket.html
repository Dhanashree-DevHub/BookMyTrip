<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Book Ticket</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container my-5">
        <h2 class="text-center mb-4">Book Ticket for {{ bus.name }}</h2>

        <div class="card shadow p-4">
            <p><strong>Route:</strong> {{ bus.source }} → {{ bus.destination }}</p>
            <p><strong>Date:</strong> {{ journey_date }}</p>
            <p><strong>Available Seats:</strong> {{ bus.available_seats }}</p>
            <p><strong>Price per Seat:</strong> ₹{{ bus.price_per_seat }}</p>

            <form method="POST">
                {% csrf_token %}
                {{ form.non_field_errors }}

                <div class="mb-3">
                    {{ form.seats_booked.label_tag }}
                    {{ form.seats_booked }}
                </div>
            
                {{ form.bus }} 
                {{ form.journey_date }} 
                <button type="submit" class="btn btn-primary">Confirm Booking</button>
                <a href="/" class="btn btn-secondary">Cancel</a>
            </form>
        </div>

        {% if messages %}
            <div class="mt-3">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
